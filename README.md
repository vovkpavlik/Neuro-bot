# Чат-бот для Vk и telegram

Бот получает сообщение от пользователя и отвечает ему, исходя из заданных интрукций. Инструкции ответа берутся с сайта [_dialogflow_](https://dialogflow.com). 
На заранее продуманные варианты предполагаемых вопросов можно получить отпределенные ответы. 

## Запуск

Для запуска бота у вас уже должен быть установлен Python 3 и telegram.

- В поисковой строке диалогов _telegram_ найдите BotFather. Следуйте его инструкциям и получите персональный token а также ваш новый канал.
- В поисковой строке найдите userinfobot и, следуя инструкциям, получите id вашего бота.
- Создайте новое сообщество VK. 
- В настройках сообщества разрешите отправку сообщений, а также получите ключ.
- Зарегистрийтесь на сайте [_google_](https://google.com).
- Создайте проект на [_dialogflow_](https://cloud.google.com/dialogflow/docs/quick/setup).
- Создайте агента по [_ссылке_](https://cloud.google.com/dialogflow/docs/quick/build-agent).
- Во вкладке _Intents_ добавьте вопросы и ответы для вашего бота.
- При необходимости добавить боту новые темы для разговора, добавляйте их во вкладке _Intents_, либо запишите новые инструкции в файл с расширением __.json__ и перенесите его в корневой каталог вашего проекта.
- Скачайте код из репозитория github.
- Установите зависимости командой `pip install -r requirements.txt`
- Запустите ВК-бота командой `python3 vk_bot.py`, а телеграм-бота - командой `python3 tg_bot.py` 

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` в корневом каталоге проекта и запишите туда данные в таком формате: 
```
VK_TOKEN=`Ваш токен с Девмана`
TG_TOKEN=`Ваш токен полученный от BotFather`
CHAT_ID_TG=`Chat-id полученный от userinfobot`
GOOGLE_PROJECT_ID='id вашего проекта на [_dialogflow_](https://cloud.google.com/dialogflow/docs/quick/setup)'
```
